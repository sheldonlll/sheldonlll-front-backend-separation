{"remainingRequest":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\src\\views\\Comment\\BiuBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\src\\views\\Comment\\BiuBox.vue","mtime":1594198433269},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0dXNlcmluZm99IGZyb20gJ0AvbmV0d29yay9Qcm9maWxlL25ldFByb2ZpbGUuanMnCmltcG9ydCB7c2VuZGNvbW1lbnR9IGZyb20gJ0AvbmV0d29yay9Db21tZW50L0NvbW1lbnQuanMnCmV4cG9ydCBkZWZhdWx0ewoJZGF0YSgpewoJCXJldHVybnsKCQkJY29tbWVudHR4dDpudWxsLAoJCQl1c2VyaW5mbzp7CgkJCQlhdmF0YXI6J2h0dHBzOi8vcmFuZG9tdXNlci5tZS9hcGkvcG9ydHJhaXRzL21lbi84My5qcGcnLAoJCQkJdXNlcm5hbWU6bnVsbCwKCQkJCXBlcnNvbmFsc2lnbmF0dXJlOm51bGwKCQkJfSwKCQkJbXlsYWJlbDoi5qyi6L+O6K+E6K66ISIsCgkJCWlzbG9naW46ZmFsc2UsCgkJCW15Q29udGVudFR5cGU6bnVsbCwKCQkJbXlPYmplY3RJZDpudWxsLAoJCQlteVJvb3Q6bnVsbCwKCQkJbXlQYXJlbnQ6bnVsbCwKCQkJbXlDb21tZW50VXJsOm51bGwsCgkJfQoJfSwKCWluamVjdDogWydyZWxvYWQnXSwgCgltb3VudGVkKCkgewoJCWlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSl7CgkJCXRoaXMuaXNsb2dpbiA9IHRydWUKCQkJZ2V0dXNlcmluZm8obG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLnVzZXJpbmZvLmF2YXRhciA9IHJlcy5kYXRhLmF2YXRhcgoJCQkJdGhpcy51c2VyaW5mby51c2VybmFtZSA9IHJlcy5kYXRhLmFjY291bnRfdXNlcm5hbWUKCQkJCXRoaXMubXlsYWJlbCA9ICJIaSEgIiArIHRoaXMudXNlcmluZm8udXNlcm5hbWUgKyAiLCAiICsgdGhpcy5teWxhYmVsCgkJCX0pLmNhdGNoKGVyciA9PiB7CgkJCQljb25zb2xlLmxvZyhlcnIpCgkJCX0pCgkJfWVsc2V7CgkJCXRoaXMuaXNsb2dpbiA9IGZhbHNlCgkJCXRoaXMudXNlcmluZm8uYXZhdGFyID0gICJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpL3BvcnRyYWl0cy9tZW4vODIuanBnIgoJCX0KCQl0aGlzLm15Q29udGVudFR5cGUgPSB0aGlzLkNvbnRlbnRUeXBlCgkJdGhpcy5teU9iamVjdElkID0gdGhpcy5PYmplY3RJZAoJCXRoaXMubXlSb290ID0gdGhpcy5Sb290CgkJdGhpcy5teVBhcmVudCA9IHRoaXMuUGFyZW50CgkJdGhpcy5teUNvbW1lbnRVcmwgPSB0aGlzLkNvbW1lbnRVcmwKCX0sCglwcm9wczp7CgkJQ29udGVudFR5cGU6ewoJCQl0eXBlOk51bWJlciwKCQkJZGVmYXVsdDowCgkJfSwKCQlPYmplY3RJZDp7CgkJCXR5cGU6TnVtYmVyLAoJCQlkZWZhdWx0OjAKCQl9LAoJCVJvb3Q6ewoJCQl0eXBlOk51bWJlciwKCQkJZGVmYXVsdDpudWxsCgkJfSwKCQlQYXJlbnQ6ewoJCQl0eXBlOk51bWJlciwKCQkJZGVmYXVsdDpudWxsCgkJfSwKCQlSZXBseVRvOnsKCQkJdHlwZTpOdW1iZXIsCgkJCWRlZmF1bHQ6bnVsbAoJCX0sCgkJQ29tbWVudFVybDp7CgkJCXR5cGU6U3RyaW5nLAoJCQlkZWZhdWx0OiJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2MvY29tbWVudHMvIgoJCX0sCgkJQ29tbWVudExheWVyOnsKCQkJdHlwZTpPYmplY3QsCgkJCWRlZmF1bHQ6bnVsbAoJCX0KCX0sCgltZXRob2RzOnsKCQlzZW5kY29tbWVudCgpewoJCQlpZighdGhpcy5jb21tZW50dHh0KXtyZXR1cm59CgkJCWVsc2V7dGhpcy5jb21tZW50dHh0LnRyaW0oKX0KCQkJaWYodGhpcy5pc2xvZ2luKXsKCQkJCWlmKHRoaXMuQ29tbWVudExheWVyKXsKCQkJCQl0aGlzLm15Q29udGVudFR5cGUgPSB0aGlzLkNvbW1lbnRMYXllci5nZXRfY29udGVudF90eXBlCgkJCQkJdGhpcy5teU9iamVjdElkID0gdGhpcy5Db21tZW50TGF5ZXIuaWQKCQkJCQl0aGlzLm15Um9vb3QgPSB0aGlzLkNvbW1lbnRMYXllci5yb290CgkJCQkJdGhpcy5teVBhcmVudCA9IHRoaXMuQ29tbWVudExheWVyLmlkCgkJCQkJdGhpcy5teVJlcGx5VG8gPSB0aGlzLkNvbW1lbnRMYXllci5hdXRob3IKCQkJCX0KCQkJCXNlbmRjb21tZW50KHRoaXMubXlDb250ZW50VHlwZSwgdGhpcy5teU9iamVjdElkLCB0aGlzLmNvbW1lbnR0eHQsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSwgdGhpcy5teVJvb290LCB0aGlzLm15UGFyZW50LCB0aGlzLm15UmVwbHlUbyx0aGlzLm15Q29tbWVudFVybCkudGhlbihyZXMgPT4gewoJCQkJCWNvbnNvbGUubG9nKHJlcykKCQkJCQl0aGlzLnJlbG9hZCgpIC8v5bGA6YOo5Yi35pawCgkJCQl9KS5jYXRjaChlcnIgPT4gewoJCQkJCWNvbnNvbGUubG9nKGVycikKCQkJCX0pCgkJCX1lbHNlewoJCQkJYWxlcnQoJ+ivt+eZu+mZhuWQjuivhOiuuuWQpycpCgkJCX0KCQl9LAoJfQp9Cg=="},{"version":3,"sources":["BiuBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BiuBox.vue","sourceRoot":"src/views/Comment","sourcesContent":["<template>\r\n\t<v-row>\r\n\t\t<v-col cols='1'>\t\t\t\t\t\t\t\r\n\t\t\t<v-list-item-avatar class=\"myavatar\">\r\n\t\t\t\t<v-img :src=\"userinfo.avatar\">\r\n\t\t\t\t</v-img>\r\n\t\t\t</v-list-item-avatar>\r\n\t\t</v-col>\r\n\t\t<v-col cols='11'>\r\n\t\t\t<v-textarea filled :label=\"mylabel\" v-model=\"commenttxt\" counter=\"640\" dense no-resize\r\noutlined rows=\"2\" background-color=\"#FAFAFA\">\r\n\t\t\t</v-textarea>\r\n\t\t</v-col>\r\n\t\t<div class=\"btnarea\">\r\n\t\t\t<v-btn depressed class=\"note\">请友善发言</v-btn>\r\n\t\t\t<v-btn depressed class=\"biubtn\" @click=\"sendcomment\"><span>发射</span><v-icon right>send</v-icon></v-btn>\r\n\t\t</div>\r\n\t</v-row>\n</template>\n\n<script>\r\n\timport {getuserinfo} from '@/network/Profile/netProfile.js'\r\n\timport {sendcomment} from '@/network/Comment/Comment.js'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcommenttxt:null,\r\n\t\t\t\tuserinfo:{\r\n\t\t\t\t\tavatar:'https://randomuser.me/api/portraits/men/83.jpg',\r\n\t\t\t\t\tusername:null,\r\n\t\t\t\t\tpersonalsignature:null\r\n\t\t\t\t},\r\n\t\t\t\tmylabel:\"欢迎评论!\",\r\n\t\t\t\tislogin:false,\r\n\t\t\t\tmyContentType:null,\r\n\t\t\t\tmyObjectId:null,\r\n\t\t\t\tmyRoot:null,\r\n\t\t\t\tmyParent:null,\r\n\t\t\t\tmyCommentUrl:null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tinject: ['reload'], \r\n\t\tmounted() {\r\n\t\t\tif(localStorage.getItem('userid')){\r\n\t\t\t\tthis.islogin = true\r\n\t\t\t\tgetuserinfo(localStorage.getItem('userid')).then(res => {\r\n\t\t\t\t\tthis.userinfo.avatar = res.data.avatar\r\n\t\t\t\t\tthis.userinfo.username = res.data.account_username\r\n\t\t\t\t\tthis.mylabel = \"Hi! \" + this.userinfo.username + \", \" + this.mylabel\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.islogin = false\r\n\t\t\t\tthis.userinfo.avatar =  \"https://randomuser.me/api/portraits/men/82.jpg\"\r\n\t\t\t}\r\n\t\t\tthis.myContentType = this.ContentType\r\n\t\t\tthis.myObjectId = this.ObjectId\r\n\t\t\tthis.myRoot = this.Root\r\n\t\t\tthis.myParent = this.Parent\r\n\t\t\tthis.myCommentUrl = this.CommentUrl\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tContentType:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tObjectId:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tRoot:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tParent:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tReplyTo:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tCommentUrl:{\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault:\"http://127.0.0.1:8000/api/c/comments/\"\r\n\t\t\t},\r\n\t\t\tCommentLayer:{\r\n\t\t\t\ttype:Object,\r\n\t\t\t\tdefault:null\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tsendcomment(){\r\n\t\t\t\tif(!this.commenttxt){return}\r\n\t\t\t\telse{this.commenttxt.trim()}\r\n\t\t\t\tif(this.islogin){\r\n\t\t\t\t\tif(this.CommentLayer){\r\n\t\t\t\t\t\tthis.myContentType = this.CommentLayer.get_content_type\r\n\t\t\t\t\t\tthis.myObjectId = this.CommentLayer.id\r\n\t\t\t\t\t\tthis.myRooot = this.CommentLayer.root\r\n\t\t\t\t\t\tthis.myParent = this.CommentLayer.id\r\n\t\t\t\t\t\tthis.myReplyTo = this.CommentLayer.author\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsendcomment(this.myContentType, this.myObjectId, this.commenttxt, localStorage.getItem('userid'), this.myRooot, this.myParent, this.myReplyTo,this.myCommentUrl).then(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.reload() //局部刷新\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert('请登陆后评论吧')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped=\"scoped\">\r\n\t.cutline{\r\n\t\tborder: 1px dotted #BABABA;\r\n\t}\r\n\t.btnarea{\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-direction: row;\r\n\t\tbackground-color: #ececec;\r\n\t}\r\n\t.leftupbiu{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.upbiu{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\n</style>\n"]}]}