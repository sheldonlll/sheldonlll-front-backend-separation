{"remainingRequest":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vuetify-loader\\lib\\loader.js??ref--17-0!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\src\\views\\Comment\\BiuList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\src\\views\\Comment\\BiuList.vue","mtime":1594211440345},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0Y29tbWVudCwgZGVsZXRlY29tbWVudCB9IGZyb20gJ0AvbmV0d29yay9Db21tZW50L0NvbW1lbnQuanMnOwppbXBvcnQgQml1Qm94IGZyb20gJ0Avdmlld3MvQ29tbWVudC9CaXVCb3gudnVlJzsKaW1wb3J0IFN1YkJpdUxpc3QgZnJvbSAnQC92aWV3cy9Db21tZW50L1N1YkJpdUxpc3QudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCaXVMaXN0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbWVudHNvYmo6IHsKICAgICAgICByZXBsaWVzOiBbXQogICAgICB9LAogICAgICBuZXh0Y29tbWVudHN1cmw6IG51bGwsCiAgICAgIHByZXZpb3VzY29tbWVudHN1cmw6IG51bGwsCiAgICAgIHNob3dSZXBseUlkOiAnJywKICAgICAgbG9naW5JZDogbnVsbCwKICAgICAgQ29tbWVudExheWVyOiBudWxsLAogICAgICBSb290Q29tbWVudDogewogICAgICAgICJpZCI6IDAsCiAgICAgICAgImNvbnRlbnRfdHlwZSI6IDAsCiAgICAgICAgIm9iamVjdF9pZCI6IDAsCiAgICAgICAgImJvZHkiOiAiIiwKICAgICAgICAiY3JlYXRlX2F0IjogbnVsbCwKICAgICAgICAiYXV0aG9yIjogMCwKICAgICAgICAiY29tbWVudF9hdXRob3IiOiAiZmFrZSIsCiAgICAgICAgImF1dGhvcl9hdmF0YXIiOiAiaHR0cHM6Ly9yYW5kb211c2VyLm1lL2FwaS9wb3J0cmFpdHMvbWVuLzgxLmpwZyIsCiAgICAgICAgInJvb3QiOiBudWxsLAogICAgICAgICJwYXJlbnQiOiBudWxsLAogICAgICAgICJyZXBseV90byI6IG51bGwsCiAgICAgICAgImdldF9jb250ZW50X3R5cGUiOiBudWxsLAogICAgICAgICJyZXBsaWVzIjogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQml1Qm94OiBCaXVCb3gsCiAgICBTdWJCaXVMaXN0OiBTdWJCaXVMaXN0CiAgfSwKICBwcm9wczogewogICAgQ29udGVudFR5cGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgT2JqZWN0SWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgQ29tbWVudFVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2MvY29tbWVudHMvIgogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Y29tbWVudGxpc3QodGhpcy5Db250ZW50VHlwZSwgdGhpcy5PYmplY3RJZCwgdGhpcy5Db21tZW50VXJsKTsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpKSB7CiAgICAgIHRoaXMubG9naW5JZCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSk7CiAgICB9CiAgfSwKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgbWV0aG9kczogewogICAgZ2V0Y29tbWVudGxpc3Q6IGZ1bmN0aW9uIGdldGNvbW1lbnRsaXN0KENvbnRlbnRUeXBlLCBPYmplY3RJZCwgQ29tbWVudFVybCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBnZXRjb21tZW50KENvbnRlbnRUeXBlLCBPYmplY3RJZCwgQ29tbWVudFVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdGhhdC5Sb290Q29tbWVudFsncmVwbGllcyddID0gcmVzLmRhdGEucmVzdWx0czsKICAgICAgICB0aGF0LmNvbW1lbnRzb2JqID0gX3RoaXMuUm9vdENvbW1lbnQ7CiAgICAgICAgdGhhdC5uZXh0Y29tbWVudHN1cmwgPSByZXMuZGF0YS5uZXh0OwogICAgICAgIHRoYXQucHJldmlvdXNjb21tZW50c3VybCA9IHJlcy5kYXRhLnByZXZpb3VzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9yZXBseTogZnVuY3Rpb24gdG9yZXBseShjb21tZW50bGF5ZXIpIHsKICAgICAgaWYgKCF0aGlzLnNob3dSZXBseUlkKSB7CiAgICAgICAgdGhpcy5zaG93UmVwbHlJZCA9IGNvbW1lbnRsYXllci5pZDsKICAgICAgICB0aGlzLkNvbW1lbnRMYXllciA9IGNvbW1lbnRsYXllcjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dSZXBseUlkID0gJyc7CiAgICAgICAgdGhpcy5Db21tZW50TGF5ZXIgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgdG9kZWxldGU6IGZ1bmN0aW9uIHRvZGVsZXRlKGNvbW1lbnRsYXllcikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRlbGV0ZWNvbW1lbnQodGhpcy5Db21tZW50VXJsLCBjb21tZW50bGF5ZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5yZWxvYWQoKTsgLy/lsYDpg6jliLfmlrAKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRuZXh0OiBmdW5jdGlvbiBnZXRuZXh0KCkgewogICAgICBpZiAodGhpcy5uZXh0Y29tbWVudHN1cmwpIHsKICAgICAgICB0aGlzLmdldGNvbW1lbnRsaXN0KHRoaXMuQ29udGVudFR5cGUsIHRoaXMuT2JqZWN0SWQsIHRoaXMubmV4dGNvbW1lbnRzdXJsKTsKICAgICAgfQogICAgfSwKICAgIGdldHByZXZpb3VzOiBmdW5jdGlvbiBnZXRwcmV2aW91cygpIHsKICAgICAgaWYgKHRoaXMucHJldmlvdXNjb21tZW50c3VybCkgewogICAgICAgIHRoaXMuZ2V0Y29tbWVudGxpc3QodGhpcy5Db250ZW50VHlwZSwgdGhpcy5PYmplY3RJZCwgdGhpcy5wcmV2aW91c2NvbW1lbnRzdXJsKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["BiuList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<v-row v-for=\"(comment,index) in commentsobj.replies||[]\" class=\"commentlayer\" v-if=\"comment.replies\">\r\n\t\t\t<v-col cols='1' class=\"commentlayerleft\">\r\n\t\t\t\t<v-list-item-avatar class=\"commentavatar\">\r\n\t\t\t\t\t<v-img :src=\"comment.author_avatar\">\r\n\t\t\t\t\t</v-img>\r\n\t\t\t\t</v-list-item-avatar>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col cols='11' class=\"commentlayerright\">\r\n\t\t\t\t<div class=\"commentlayerup\">\r\n\t\t\t\t\t<div>{{comment.comment_author}} <span>:</span> {{comment.create_at | dateFormat}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr>\r\n\t\t\t\t<div class=\"commentlayerdown\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p>{{comment.body}}</p> \r\n\t\t\t\t\t\t<v-btn text>点赞</v-btn>\r\n\t\t\t\t\t\t<v-btn text>踩他</v-btn>\r\n\t\t\t\t\t\t<v-btn text @click=\"toreply(comment)\">回复</v-btn>\r\n\t\t\t\t\t\t<v-btn text>举报</v-btn>\r\n\t\t\t\t\t\t<v-btn text @click=\"todelete(comment)\" v-if=\"loginId === comment.author\">删除</v-btn>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<BiuBox v-show=\"showReplyId === comment.id\" :CommentLayer=\"CommentLayer\"></BiuBox>\r\n\t\t\t\t</div>\r\n\t\t\t</v-col>\r\n\t\t\t<SubBiuList :comment=\"comment.replies\" v-if=\"comment.author_avatar\"></SubBiuList>\r\n\t\t</v-row>\r\n\t\t<v-row><v-btn @click=\"getprevious\">上一页</v-btn><v-spacer></v-spacer><v-btn @click=\"getnext\">下一页</v-btn></v-row>\r\n\t</div>\n</template>\n\n<script>\r\n\timport {getcomment,deletecomment} from '@/network/Comment/Comment.js'\r\n\timport BiuBox from '@/views/Comment/BiuBox.vue'\r\n\timport SubBiuList from '@/views/Comment/SubBiuList.vue'\r\n\texport default{\r\n\t\tname:\"BiuList\",\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcommentsobj:{\r\n\t\t\t\t\treplies:[]\r\n\t\t\t\t},\r\n\t\t\t\tnextcommentsurl:null,\r\n\t\t\t\tpreviouscommentsurl:null,\r\n\t\t\t\tshowReplyId: '',\r\n\t\t\t\tloginId:null,\r\n\t\t\t\tCommentLayer:null,\r\n\t\t\t\tRootComment:{\r\n\t\t\t\t\t\"id\": 0,\r\n\t\t\t\t\t\"content_type\": 0,\r\n\t\t\t\t\t\"object_id\": 0,\r\n\t\t\t\t\t\"body\": \"\",\r\n\t\t\t\t\t\"create_at\": null,\r\n\t\t\t\t\t\"author\": 0,\r\n\t\t\t\t\t\"comment_author\": \"fake\",\r\n\t\t\t\t\t\"author_avatar\": \"https://randomuser.me/api/portraits/men/81.jpg\",\r\n\t\t\t\t\t\"root\": null,\r\n\t\t\t\t\t\"parent\": null,\r\n\t\t\t\t\t\"reply_to\": null,\r\n\t\t\t\t\t\"get_content_type\": null,\r\n\t\t\t\t\t\"replies\": null\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tBiuBox,\r\n\t\t\tSubBiuList\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tContentType:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tObjectId:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tCommentUrl:{\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault:\"http://127.0.0.1:8000/api/c/comments/\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getcommentlist(this.ContentType,this.ObjectId,this.CommentUrl)\r\n\t\t\tif(localStorage.getItem('userid')){\r\n\t\t\t\tthis.loginId = parseInt(localStorage.getItem('userid'))\r\n\t\t\t}\r\n\t\t},\r\n\t\tinject: ['reload'], \r\n\t\tmethods:{\r\n\t\t\tgetcommentlist(ContentType,ObjectId,CommentUrl){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tgetcomment(ContentType,ObjectId,CommentUrl).then(res=>{\r\n\t\t\t\t\tthat.RootComment['replies'] = res.data.results\r\n\t\t\t\t\tthat.commentsobj = this.RootComment\r\n\t\t\t\t\tthat.nextcommentsurl = res.data.next\r\n\t\t\t\t\tthat.previouscommentsurl = res.data.previous\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoreply(commentlayer){\r\n\t\t\t\tif(!this.showReplyId){\r\n\t\t\t\t\tthis.showReplyId = commentlayer.id\r\n\t\t\t\t\tthis.CommentLayer = commentlayer\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.showReplyId = ''\r\n\t\t\t\t\tthis.CommentLayer = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttodelete(commentlayer){\r\n\t\t\t\tdeletecomment(this.CommentUrl,commentlayer).then(res=>{\r\n\t\t\t\t\tthis.reload() //局部刷新\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetnext(){\r\n\t\t\t\tif(this.nextcommentsurl){\r\n\t\t\t\t\tthis.getcommentlist(this.ContentType,this.ObjectId,this.nextcommentsurl)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetprevious(){\r\n\t\t\t\tif(this.previouscommentsurl){\r\n\t\t\t\t\tthis.getcommentlist(this.ContentType,this.ObjectId,this.previouscommentsurl)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped=\"scoped\">\r\n\t.commentlist{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.commentlayer .replylayer{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\n</style>\n"],"sourceRoot":"src/views/Comment"}]}