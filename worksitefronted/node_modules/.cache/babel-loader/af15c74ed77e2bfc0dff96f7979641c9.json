{"remainingRequest":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vuetify-loader\\lib\\loader.js??ref--17-0!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\src\\views\\Comment\\BiuBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\src\\views\\Comment\\BiuBox.vue","mtime":1594198433269},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sherlock\\Desktop\\sitefronted\\fronted\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXR1c2VyaW5mbyB9IGZyb20gJ0AvbmV0d29yay9Qcm9maWxlL25ldFByb2ZpbGUuanMnOwppbXBvcnQgeyBzZW5kY29tbWVudCBhcyBfc2VuZGNvbW1lbnQgfSBmcm9tICdAL25ldHdvcmsvQ29tbWVudC9Db21tZW50LmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21tZW50dHh0OiBudWxsLAogICAgICB1c2VyaW5mbzogewogICAgICAgIGF2YXRhcjogJ2h0dHBzOi8vcmFuZG9tdXNlci5tZS9hcGkvcG9ydHJhaXRzL21lbi84My5qcGcnLAogICAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICAgIHBlcnNvbmFsc2lnbmF0dXJlOiBudWxsCiAgICAgIH0sCiAgICAgIG15bGFiZWw6ICLmrKLov47or4TorrohIiwKICAgICAgaXNsb2dpbjogZmFsc2UsCiAgICAgIG15Q29udGVudFR5cGU6IG51bGwsCiAgICAgIG15T2JqZWN0SWQ6IG51bGwsCiAgICAgIG15Um9vdDogbnVsbCwKICAgICAgbXlQYXJlbnQ6IG51bGwsCiAgICAgIG15Q29tbWVudFVybDogbnVsbAogICAgfTsKICB9LAogIGluamVjdDogWydyZWxvYWQnXSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpKSB7CiAgICAgIHRoaXMuaXNsb2dpbiA9IHRydWU7CiAgICAgIGdldHVzZXJpbmZvKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudXNlcmluZm8uYXZhdGFyID0gcmVzLmRhdGEuYXZhdGFyOwogICAgICAgIF90aGlzLnVzZXJpbmZvLnVzZXJuYW1lID0gcmVzLmRhdGEuYWNjb3VudF91c2VybmFtZTsKICAgICAgICBfdGhpcy5teWxhYmVsID0gIkhpISAiICsgX3RoaXMudXNlcmluZm8udXNlcm5hbWUgKyAiLCAiICsgX3RoaXMubXlsYWJlbDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pc2xvZ2luID0gZmFsc2U7CiAgICAgIHRoaXMudXNlcmluZm8uYXZhdGFyID0gImh0dHBzOi8vcmFuZG9tdXNlci5tZS9hcGkvcG9ydHJhaXRzL21lbi84Mi5qcGciOwogICAgfQoKICAgIHRoaXMubXlDb250ZW50VHlwZSA9IHRoaXMuQ29udGVudFR5cGU7CiAgICB0aGlzLm15T2JqZWN0SWQgPSB0aGlzLk9iamVjdElkOwogICAgdGhpcy5teVJvb3QgPSB0aGlzLlJvb3Q7CiAgICB0aGlzLm15UGFyZW50ID0gdGhpcy5QYXJlbnQ7CiAgICB0aGlzLm15Q29tbWVudFVybCA9IHRoaXMuQ29tbWVudFVybDsKICB9LAogIHByb3BzOiB7CiAgICBDb250ZW50VHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBPYmplY3RJZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBSb290OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIFBhcmVudDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBSZXBseVRvOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIENvbW1lbnRVcmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jL2NvbW1lbnRzLyIKICAgIH0sCiAgICBDb21tZW50TGF5ZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kY29tbWVudDogZnVuY3Rpb24gc2VuZGNvbW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNvbW1lbnR0eHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb21tZW50dHh0LnRyaW0oKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaXNsb2dpbikgewogICAgICAgIGlmICh0aGlzLkNvbW1lbnRMYXllcikgewogICAgICAgICAgdGhpcy5teUNvbnRlbnRUeXBlID0gdGhpcy5Db21tZW50TGF5ZXIuZ2V0X2NvbnRlbnRfdHlwZTsKICAgICAgICAgIHRoaXMubXlPYmplY3RJZCA9IHRoaXMuQ29tbWVudExheWVyLmlkOwogICAgICAgICAgdGhpcy5teVJvb290ID0gdGhpcy5Db21tZW50TGF5ZXIucm9vdDsKICAgICAgICAgIHRoaXMubXlQYXJlbnQgPSB0aGlzLkNvbW1lbnRMYXllci5pZDsKICAgICAgICAgIHRoaXMubXlSZXBseVRvID0gdGhpcy5Db21tZW50TGF5ZXIuYXV0aG9yOwogICAgICAgIH0KCiAgICAgICAgX3NlbmRjb21tZW50KHRoaXMubXlDb250ZW50VHlwZSwgdGhpcy5teU9iamVjdElkLCB0aGlzLmNvbW1lbnR0eHQsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKSwgdGhpcy5teVJvb290LCB0aGlzLm15UGFyZW50LCB0aGlzLm15UmVwbHlUbywgdGhpcy5teUNvbW1lbnRVcmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBfdGhpczIucmVsb2FkKCk7IC8v5bGA6YOo5Yi35pawCgogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ+ivt+eZu+mZhuWQjuivhOiuuuWQpycpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["BiuBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<v-row>\r\n\t\t<v-col cols='1'>\t\t\t\t\t\t\t\r\n\t\t\t<v-list-item-avatar class=\"myavatar\">\r\n\t\t\t\t<v-img :src=\"userinfo.avatar\">\r\n\t\t\t\t</v-img>\r\n\t\t\t</v-list-item-avatar>\r\n\t\t</v-col>\r\n\t\t<v-col cols='11'>\r\n\t\t\t<v-textarea filled :label=\"mylabel\" v-model=\"commenttxt\" counter=\"640\" dense no-resize\r\noutlined rows=\"2\" background-color=\"#FAFAFA\">\r\n\t\t\t</v-textarea>\r\n\t\t</v-col>\r\n\t\t<div class=\"btnarea\">\r\n\t\t\t<v-btn depressed class=\"note\">请友善发言</v-btn>\r\n\t\t\t<v-btn depressed class=\"biubtn\" @click=\"sendcomment\"><span>发射</span><v-icon right>send</v-icon></v-btn>\r\n\t\t</div>\r\n\t</v-row>\n</template>\n\n<script>\r\n\timport {getuserinfo} from '@/network/Profile/netProfile.js'\r\n\timport {sendcomment} from '@/network/Comment/Comment.js'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcommenttxt:null,\r\n\t\t\t\tuserinfo:{\r\n\t\t\t\t\tavatar:'https://randomuser.me/api/portraits/men/83.jpg',\r\n\t\t\t\t\tusername:null,\r\n\t\t\t\t\tpersonalsignature:null\r\n\t\t\t\t},\r\n\t\t\t\tmylabel:\"欢迎评论!\",\r\n\t\t\t\tislogin:false,\r\n\t\t\t\tmyContentType:null,\r\n\t\t\t\tmyObjectId:null,\r\n\t\t\t\tmyRoot:null,\r\n\t\t\t\tmyParent:null,\r\n\t\t\t\tmyCommentUrl:null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tinject: ['reload'], \r\n\t\tmounted() {\r\n\t\t\tif(localStorage.getItem('userid')){\r\n\t\t\t\tthis.islogin = true\r\n\t\t\t\tgetuserinfo(localStorage.getItem('userid')).then(res => {\r\n\t\t\t\t\tthis.userinfo.avatar = res.data.avatar\r\n\t\t\t\t\tthis.userinfo.username = res.data.account_username\r\n\t\t\t\t\tthis.mylabel = \"Hi! \" + this.userinfo.username + \", \" + this.mylabel\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.islogin = false\r\n\t\t\t\tthis.userinfo.avatar =  \"https://randomuser.me/api/portraits/men/82.jpg\"\r\n\t\t\t}\r\n\t\t\tthis.myContentType = this.ContentType\r\n\t\t\tthis.myObjectId = this.ObjectId\r\n\t\t\tthis.myRoot = this.Root\r\n\t\t\tthis.myParent = this.Parent\r\n\t\t\tthis.myCommentUrl = this.CommentUrl\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tContentType:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tObjectId:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t},\r\n\t\t\tRoot:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tParent:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tReplyTo:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:null\r\n\t\t\t},\r\n\t\t\tCommentUrl:{\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault:\"http://127.0.0.1:8000/api/c/comments/\"\r\n\t\t\t},\r\n\t\t\tCommentLayer:{\r\n\t\t\t\ttype:Object,\r\n\t\t\t\tdefault:null\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tsendcomment(){\r\n\t\t\t\tif(!this.commenttxt){return}\r\n\t\t\t\telse{this.commenttxt.trim()}\r\n\t\t\t\tif(this.islogin){\r\n\t\t\t\t\tif(this.CommentLayer){\r\n\t\t\t\t\t\tthis.myContentType = this.CommentLayer.get_content_type\r\n\t\t\t\t\t\tthis.myObjectId = this.CommentLayer.id\r\n\t\t\t\t\t\tthis.myRooot = this.CommentLayer.root\r\n\t\t\t\t\t\tthis.myParent = this.CommentLayer.id\r\n\t\t\t\t\t\tthis.myReplyTo = this.CommentLayer.author\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsendcomment(this.myContentType, this.myObjectId, this.commenttxt, localStorage.getItem('userid'), this.myRooot, this.myParent, this.myReplyTo,this.myCommentUrl).then(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.reload() //局部刷新\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert('请登陆后评论吧')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped=\"scoped\">\r\n\t.cutline{\r\n\t\tborder: 1px dotted #BABABA;\r\n\t}\r\n\t.btnarea{\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-direction: row;\r\n\t\tbackground-color: #ececec;\r\n\t}\r\n\t.leftupbiu{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.upbiu{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\n</style>\n"],"sourceRoot":"src/views/Comment"}]}